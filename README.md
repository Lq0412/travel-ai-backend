# ğŸŒ æ™ºèƒ½ AI æ—…æ¸¸æ¨èå¹³å° - åç«¯ç³»ç»Ÿ

![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.0-brightgreen.svg)
![Java](https://img.shields.io/badge/Java-17-orange.svg)
![MyBatis Plus](https://img.shields.io/badge/MyBatis%20Plus-3.5.5-blue.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

> åŸºäº Spring Boot 3.x çš„å‰åç«¯åˆ†ç¦»æ™ºèƒ½æ—…æ¸¸åŠ©æ‰‹åç«¯ç³»ç»Ÿï¼Œé›†æˆé€šä¹‰åƒé—®å¤§æ¨¡å‹ï¼Œæä¾›ä¸“ä¸šçš„ä»åŒ–æ—…æ¸¸å’¨è¯¢ã€è¡Œç¨‹è§„åˆ’ã€æ•°å­—äººå¯¹è¯å’Œæ™ºèƒ½æ¨èæœåŠ¡ã€‚

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„æ—…æ¸¸æœåŠ¡å¹³å°åç«¯ç³»ç»Ÿï¼Œæ ¸å¿ƒç‰¹æ€§åŒ…æ‹¬ï¼š

- **ğŸ¤– AI æ™ºèƒ½åŠ©æ‰‹**ï¼šé›†æˆé€šä¹‰åƒé—®å¤§æ¨¡å‹ï¼Œæä¾›æµå¼å¯¹è¯å’Œæ™ºèƒ½è¡Œç¨‹è§„åˆ’
- **ğŸï¸ ä»åŒ–æ—…æ¸¸ä¸“å®¶**ï¼šåŸºäº Agent æ¶æ„çš„ä¸“ä¸šæ—…æ¸¸å’¨è¯¢æœåŠ¡
- **ğŸ‘¨â€ğŸ’¼ æ•°å­—äººå¯¹è¯**ï¼šé›†æˆ [DH_live](https://github.com/kleinlee/DH_live) æ•°å­—äººæœåŠ¡ï¼Œæ”¯æŒå®æ—¶è¯­éŸ³äº¤äº’
- **ğŸ’¬ ç•™è¨€å¢™ç³»ç»Ÿ**ï¼šæ”¯æŒæ™¯ç‚¹ç•™è¨€ã€å¼¹å¹•å±•ç¤ºã€ç‚¹èµäº’åŠ¨
- **ğŸ›’ ç”µå•†åŠŸèƒ½**ï¼šå®Œæ•´çš„å•†å“ã€è®¢å•ã€è´­ç‰©è½¦ã€å•†å®¶ç®¡ç†
- **ğŸ“ ç¤¾åŒºè®ºå›**ï¼šå¸–å­å‘å¸ƒã€è¯„è®ºã€ç‚¹èµã€æ”¶è—åŠŸèƒ½
- **ğŸ‘¤ ç”¨æˆ·ç³»ç»Ÿ**ï¼šæ³¨å†Œç™»å½•ã€æƒé™ç®¡ç†ã€ä¸ªäººä¸­å¿ƒ
- **ğŸ¯ å‰åç«¯åˆ†ç¦»**ï¼šå®Œæ•´çš„ RESTful API è®¾è®¡ï¼Œé…å¥— Vue 3 å‰ç«¯é¡¹ç›®

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

```
åç«¯æ¡†æ¶ï¼šSpring Boot 3.2.0
æ•°æ®åº“ï¼šMySQL 8.0 + Redis
æŒä¹…å±‚ï¼šMyBatis Plus 3.5.5
AI æ¨¡å‹ï¼šé€šä¹‰åƒé—® (DashScope)
æ•°å­—äººæœåŠ¡ï¼šDH_live (å¼€æºæ•°å­—äººé¡¹ç›®)
å‰ç«¯æŠ€æœ¯ï¼šVue 3 + TypeScript + Ant Design Vue
API æ–‡æ¡£ï¼šKnife4j (Swagger)
å¯¹è±¡å­˜å‚¨ï¼šè…¾è®¯äº‘ COS
é™æµï¼šResilience4j
ç¼“å­˜ï¼šRedis + Caffeine
```

### ç³»ç»Ÿæ¶æ„

```
â”œâ”€â”€ AI æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ Agent æ™ºèƒ½ä½“æ¡†æ¶
â”‚   â”œâ”€â”€ æµå¼å¯¹è¯å¤„ç†
â”‚   â”œâ”€â”€ çŸ¥è¯†åº“ç®¡ç†
â”‚   â””â”€â”€ é…é¢ç³»ç»Ÿ
â”œâ”€â”€ ä¸šåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ ç”¨æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ æ™¯ç‚¹ç®¡ç†
â”‚   â”œâ”€â”€ ç•™è¨€å¢™
â”‚   â”œâ”€â”€ ç”µå•†ç³»ç»Ÿ
â”‚   â””â”€â”€ ç¤¾åŒºè®ºå›
â”œâ”€â”€ åŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ ç»Ÿä¸€å“åº”å°è£…
â”‚   â”œâ”€â”€ å…¨å±€å¼‚å¸¸å¤„ç†
â”‚   â”œâ”€â”€ æƒé™æ‹¦æˆªå™¨
â”‚   â””â”€â”€ é™æµä¿æŠ¤
â””â”€â”€ æ•°å­—äººæ¨¡å—
    â””â”€â”€ è¯­éŸ³å¯¹è¯é€‚é…
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **JDK 21** (å¿…éœ€)
- **Maven 3.8+**
- **MySQL 8.0+**
- **Redis 6.0+** (æ¨è 7.0+)
- **Node.js 18+** (å‰ç«¯å¼€å‘éœ€è¦)

### é…ç½®è¯´æ˜

1. **å…‹éš†é¡¹ç›®**

```bash
git clone https://github.com/Lq0412/travel-ai-backend.git
cd travel-ai-backend
```

2. **é…ç½®æ•°æ®åº“**

åˆ›å»ºæ•°æ®åº“å¹¶å¯¼å…¥ SQL æ–‡ä»¶ï¼š
```bash
# åˆ›å»ºæ•°æ®åº“
CREATE DATABASE travel_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# å¯¼å…¥æ•°æ®åº“è¡¨ç»“æ„å’Œæ•°æ®
mysql -u your_username -p travel_db < src/main/resources/sql/travel.sql
```

æˆ–è€…ç›´æ¥åœ¨ MySQL å®¢æˆ·ç«¯ä¸­æ‰§è¡Œï¼š
```sql
USE travel_db;
SOURCE src/main/resources/sql/travel.sql;
```

> **æ³¨æ„**ï¼š`travel.sql` åŒ…å«äº†ç³»ç»Ÿæ‰€éœ€çš„æ‰€æœ‰æ ¸å¿ƒè¡¨ç»“æ„ï¼ŒåŒ…æ‹¬ç”¨æˆ·ã€æ™¯ç‚¹ã€ç•™è¨€å¢™ã€å•†å“ã€è®¢å•ã€AI å¯¹è¯ç­‰å®Œæ•´åŠŸèƒ½æ¨¡å—ã€‚

3. **ä¿®æ”¹é…ç½®æ–‡ä»¶**

ç¼–è¾‘ `src/main/resources/application.yml`ï¼š

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/your_database
    username: your_username
    password: your_password
  
  data:
    redis:
      host: localhost
      port: 6379

# é€šä¹‰åƒé—®é…ç½®
dashscope:
  api-key: your_dashscope_api_key
  model: qwen-turbo

# è…¾è®¯äº‘ COS é…ç½®ï¼ˆå¯é€‰ï¼‰
cos:
  client:
    accessKey: your_access_key
    secretKey: your_secret_key
    region: ap-guangzhou
    bucket: your_bucket

# æ•°å­—äººæœåŠ¡é…ç½®ï¼ˆå¯é€‰ï¼‰
digital-human:
  service-url: http://localhost:8888/static/MiniLive_RealTime.html
  enabled: true
```

4. **è¿è¡Œé¡¹ç›®**

```bash
mvn clean install
mvn spring-boot:run
```

è®¿é—® API æ–‡æ¡£ï¼š`http://localhost:8101/api/doc.html`

## ğŸ“š æ ¸å¿ƒåŠŸèƒ½

### 1. AI æ™ºèƒ½å¯¹è¯

**ä»åŒ–æ—…æ¸¸åŠ©æ‰‹**
- SSE æµå¼å“åº”ï¼Œå®æ—¶æ‰“å­—æœºæ•ˆæœ
- å¯¹è¯ä¸Šä¸‹æ–‡è®°å¿†ï¼Œè¿è´¯çš„å¤šè½®å¯¹è¯
- Agent æ¶æ„ï¼Œè‡ªåŠ¨è¿‡æ»¤å†…éƒ¨æ¨ç†è¿‡ç¨‹
- æ™ºèƒ½è¡Œç¨‹è§„åˆ’ï¼Œå­£èŠ‚åŒ–æ¨è
- é…é¢ç®¡ç†å’Œé™æµä¿æŠ¤

**æ•°å­—äººå®æ—¶å¯¹è¯**
- é›†æˆ [DH_live](https://github.com/kleinlee/DH_live) å¼€æºæ•°å­—äººæœåŠ¡
- çº¯å‡€æ–‡æœ¬è¾“å‡ºï¼Œé€‚é…è¯­éŸ³æ’­æŠ¥
- ä½å»¶è¿Ÿã€é«˜è´¨é‡çš„å®æ—¶äº¤äº’ä½“éªŒ
- æ”¯æŒè‡ªå®šä¹‰æ•°å­—äººå½¢è±¡
- å¤šå¹³å°æ”¯æŒï¼ˆWeb/å°ç¨‹åº/Appï¼‰

> **API æ–‡æ¡£**ï¼šå®Œæ•´çš„æ¥å£æ–‡æ¡£è¯·è®¿é—® `/api/doc.html`ï¼ˆKnife4jï¼‰

### 2. ç•™è¨€å¢™ç³»ç»Ÿ

- **æ™¯ç‚¹ç•™è¨€**ï¼šæ¸¸å®¢å¯åœ¨æ™¯ç‚¹é¡µé¢å‘å¸ƒç•™è¨€ã€åˆ†äº«ä½“éªŒ
- **å¼¹å¹•å±•ç¤º**ï¼šæ”¯æŒå¼¹å¹•åŠ¨ç”»æ•ˆæœï¼Œå®æ—¶æ»šåŠ¨å±•ç¤º
- **äº’åŠ¨åŠŸèƒ½**ï¼šç‚¹èµã€è¯„è®ºã€ä¸¾æŠ¥
- **ç®¡ç†å®¡æ ¸**ï¼šç®¡ç†å‘˜å¯å®¡æ ¸ã€åˆ é™¤ä¸å½“ç•™è¨€
- **çŠ¶æ€ç®¡ç†**ï¼šå¾…å®¡æ ¸ã€å·²é€šè¿‡ã€å·²æ‹’ç»ç­‰çŠ¶æ€æµè½¬

### 3. ç”µå•†ç³»ç»Ÿ

**å•†å“ç®¡ç†**
- å•†å“å‘å¸ƒã€ç¼–è¾‘ã€åˆ é™¤ã€ä¸Šä¸‹æ¶
- åˆ†ç±»ç®¡ç†ã€åº“å­˜ç®¡ç†ã€ä»·æ ¼ç­–ç•¥
- å•†å“è¯¦æƒ…ã€å›¾ç‰‡å±•ç¤ºã€è§„æ ¼é€‰æ‹©

**è®¢å•æµç¨‹**
- è´­ç‰©è½¦ç®¡ç†ã€è®¢å•åˆ›å»ºã€åœ¨çº¿æ”¯ä»˜
- è®¢å•çŠ¶æ€è·Ÿè¸ªï¼ˆå¾…æ”¯ä»˜/å¾…å‘è´§/å·²å‘è´§/å·²å®Œæˆï¼‰
- è®¢å•å–æ¶ˆã€é€€æ¬¾å¤„ç†
- å•†å®¶è®¢å•å¤„ç†ã€å‘è´§ç®¡ç†

**å•†å®¶å…¥é©»**
- å•†å®¶æ³¨å†Œã€èµ„è´¨å®¡æ ¸
- åº—é“ºç®¡ç†ã€å•†å“ç®¡ç†
- è®¢å•å¤„ç†ã€æ•°æ®ç»Ÿè®¡

### 4. ç¤¾åŒºè®ºå›

- **å†…å®¹å‘å¸ƒ**ï¼šå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ”¯æŒå›¾ç‰‡ä¸Šä¼ 
- **æ ‡ç­¾åˆ†ç±»**ï¼šå¤šæ ‡ç­¾ç³»ç»Ÿï¼Œä¾¿äºå†…å®¹å½’ç±»
- **äº’åŠ¨åŠŸèƒ½**ï¼šç‚¹èµã€æ”¶è—ã€è¯„è®ºã€è½¬å‘
- **ç”¨æˆ·å…³æ³¨**ï¼šå…³æ³¨ç”¨æˆ·ï¼ŒæŸ¥çœ‹åŠ¨æ€
- **å†…å®¹æœç´¢**ï¼šæ ‡é¢˜ã€å†…å®¹å…¨æ–‡æœç´¢ï¼ˆæ”¯æŒ ES æ‰©å±•ï¼‰

### 5. ç”¨æˆ·ç³»ç»Ÿ

- **è´¦å·ç®¡ç†**ï¼šæ³¨å†Œã€ç™»å½•ã€ç™»å‡ºã€å¯†ç æ‰¾å›
- **æƒé™æ§åˆ¶**ï¼šç”¨æˆ·/ç®¡ç†å‘˜/å•†å®¶ä¸‰çº§æƒé™ä½“ç³»
- **ä¸ªäººä¸­å¿ƒ**ï¼šä¸ªäººä¿¡æ¯ã€å¤´åƒä¸Šä¼ ã€èµ„æ–™ä¿®æ”¹
- **è®¢å•ç®¡ç†**ï¼šæˆ‘çš„è®¢å•ã€æ”¶è—ã€è´­ç‰©è½¦
- **äº’åŠ¨è®°å½•**ï¼šæˆ‘çš„å¸–å­ã€è¯„è®ºã€ç‚¹èµè®°å½•

## ğŸ” æƒé™ç³»ç»Ÿ

**ä¸‰çº§æƒé™ä½“ç³»**
- **æ¸¸å®¢**ï¼šå¯æµè§ˆæ™¯ç‚¹ã€å•†å“ã€å¸–å­ç­‰å…¬å¼€å†…å®¹
- **ç”¨æˆ·**ï¼šç™»å½•åå¯å‘å¸–ã€ç•™è¨€ã€è´­ç‰©ã€è¯„è®ºç­‰
- **ç®¡ç†å‘˜**ï¼šæ‹¥æœ‰ç”¨æˆ·ç®¡ç†ã€å†…å®¹å®¡æ ¸ã€ç³»ç»Ÿé…ç½®ç­‰å…¨éƒ¨æƒé™
- **å•†å®¶**ï¼šå¯ç®¡ç†åº—é“ºã€å•†å“ã€è®¢å•ç­‰å•†å®¶ç›¸å…³åŠŸèƒ½

**æƒé™æ§åˆ¶**
- ä½¿ç”¨ `@AuthCheck` æ³¨è§£å®ç°ç»†ç²’åº¦æƒé™æ§åˆ¶
- Session + Redis å®ç°åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†
- æ”¯æŒè§’è‰²ã€æƒé™çš„çµæ´»é…ç½®
- å‰åç«¯ç»Ÿä¸€çš„æƒé™æ‹¦æˆªæœºåˆ¶

## ğŸ¯ AI Agent æ¶æ„

**æ‰§è¡Œæµç¨‹**
1. **ç”¨æˆ·è¾“å…¥** â†’ æ¥æ”¶ç”¨æˆ·çš„æ—…æ¸¸å’¨è¯¢éœ€æ±‚
2. **æ€è€ƒåˆ†æ** â†’ Agent å†…éƒ¨åˆ†æç”¨æˆ·æ„å›¾å’Œä¸Šä¸‹æ–‡
3. **è¡ŒåŠ¨è§„åˆ’** â†’ åˆ¶å®šå›ç­”ç­–ç•¥å’Œä¿¡æ¯æ£€ç´¢è®¡åˆ’
4. **ç”Ÿæˆå›ç­”** â†’ ç»“åˆçŸ¥è¯†åº“ç”Ÿæˆä¸“ä¸šçš„æ—…æ¸¸å»ºè®®
5. **å‰ç«¯å±•ç¤º** â†’ è‡ªåŠ¨è¿‡æ»¤å†…éƒ¨æ¨ç†ï¼Œåªå±•ç¤ºæœ€ç»ˆå›ç­”

**æ ¸å¿ƒç‰¹æ€§**
- **ReAct æ¶æ„**ï¼šç»“åˆæ¨ç†å’Œè¡ŒåŠ¨çš„æ™ºèƒ½å†³ç­–
- **ä¸Šä¸‹æ–‡è®°å¿†**ï¼šå¤šè½®å¯¹è¯ä¿æŒè¿è´¯æ€§
- **çŸ¥è¯†åº“é›†æˆ**ï¼šæ™¯ç‚¹ã€ç¾é£Ÿç­‰ä¸“ä¸šçŸ¥è¯†
- **å­£èŠ‚åŒ–æ¨è**ï¼šæ ¹æ®å½“å‰å­£èŠ‚æä¾›é’ˆå¯¹æ€§å»ºè®®
- **å¯æ‰©å±•è®¾è®¡**ï¼šæ”¯æŒè‡ªå®šä¹‰ Agent æ‰©å±•

## ğŸ“Š API é™æµä¸ä¿æŠ¤

**é™æµç­–ç•¥**
- **AI å¯¹è¯æ¥å£**ï¼š10æ¬¡/åˆ†é’Ÿï¼Œé˜²æ­¢æ»¥ç”¨
- **æµå¼æ¥å£**ï¼š5æ¬¡/åˆ†é’Ÿï¼Œä¿æŠ¤æœåŠ¡å™¨èµ„æº
- **æ™®é€šæ¥å£**ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚çµæ´»é…ç½®

**æŠ€æœ¯å®ç°**
- åŸºäº Resilience4j å®ç°åˆ†å¸ƒå¼é™æµ
- æ”¯æŒç”¨æˆ·çº§ã€IP çº§ã€æ¥å£çº§å¤šç»´åº¦é™æµ
- é™æµè§¦å‘æ—¶è¿”å›å‹å¥½æç¤ºä¿¡æ¯
- å¯é€šè¿‡é…ç½®æ–‡ä»¶çµæ´»è°ƒæ•´é™æµå‚æ•°

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
src/main/java/com/lq/common/
â”œâ”€â”€ AI/                          # AI æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ agent/              # Agent æ™ºèƒ½ä½“
â”‚   â”‚   â”œâ”€â”€ callback/           # æµå¼å›è°ƒå¤„ç†
â”‚   â”‚   â”œâ”€â”€ provider/           # AI æœåŠ¡æä¾›è€…
â”‚   â”‚   â””â”€â”€ service/            # AI æœåŠ¡å±‚
â”œâ”€â”€ controller/                  # æ§åˆ¶å™¨å±‚
â”œâ”€â”€ service/                     # ä¸šåŠ¡æœåŠ¡å±‚
â”œâ”€â”€ mapper/                      # æ•°æ®è®¿é—®å±‚
â”œâ”€â”€ model/                       # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ entity/                 # å®ä½“ç±»
â”‚   â”œâ”€â”€ dto/                    # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â””â”€â”€ vo/                     # è§†å›¾å¯¹è±¡
â”œâ”€â”€ config/                      # é…ç½®ç±»
â”œâ”€â”€ exception/                   # å¼‚å¸¸å¤„ç†
â””â”€â”€ util/                        # å·¥å…·ç±»
```

## ğŸ”§ æ ¸å¿ƒé…ç½®è¯´æ˜

### AI æ¨¡å‹é…ç½®
- **Temperature**: 0.7ï¼ˆæ§åˆ¶éšæœºæ€§ï¼Œ0.0-1.0ï¼‰
- **Max Tokens**: 2000ï¼ˆå•æ¬¡å“åº”æœ€å¤§é•¿åº¦ï¼‰
- **Timeout**: 300000msï¼ˆæµå¼è¾“å‡ºè¶…æ—¶æ—¶é—´ï¼‰
- **Model**: qwen-turboï¼ˆé€šä¹‰åƒé—®æ¨¡å‹ï¼‰

### ç¼“å­˜ç­–ç•¥
- **ç•™è¨€å¢™ç¼“å­˜**: 5åˆ†é’Ÿ TTL
- **AI å¯¹è¯ç¼“å­˜**: 30åˆ†é’Ÿ TTL
- **ç”¨æˆ·ä¼šè¯**: Redis Session ç®¡ç†
- **æœ¬åœ°ç¼“å­˜**: Caffeine äºŒçº§ç¼“å­˜

### é™æµé…ç½®
- **AI å¯¹è¯**: 10æ¬¡/åˆ†é’Ÿ
- **æµå¼æ¥å£**: 5æ¬¡/åˆ†é’Ÿ
- **åˆ·æ–°å‘¨æœŸ**: 60ç§’

> **è¯¦ç»†é…ç½®**ï¼šå®Œæ•´çš„é…ç½®å‚æ•°è¯·å‚è€ƒ `application.yml` æ–‡ä»¶

## ğŸ“ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„

æ•°æ®åº“æ–‡ä»¶ä½ç½®ï¼š`src/main/resources/sql/travel.sql`

**ç”¨æˆ·æ¨¡å—**
- `user` - ç”¨æˆ·è¡¨ï¼ˆæ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†ï¼‰

**æ—…æ¸¸æ¨¡å—**
- `scenic_spot` - æ™¯ç‚¹è¡¨
- `message_wall` - ç•™è¨€å¢™è¡¨
- `message_like` - ç•™è¨€ç‚¹èµè¡¨

**ç”µå•†æ¨¡å—**
- `product` - å•†å“è¡¨
- `merchant` - å•†å®¶è¡¨
- `cart` - è´­ç‰©è½¦è¡¨
- `order` - è®¢å•è¡¨
- `order_item` - è®¢å•æ˜ç»†è¡¨

**ç¤¾åŒºæ¨¡å—**
- `post` - å¸–å­è¡¨
- `comment` - è¯„è®ºè¡¨
- `post_tag` - å¸–å­æ ‡ç­¾å…³è”è¡¨
- `tag` - æ ‡ç­¾è¡¨
- `favorite` - æ”¶è—è¡¨
- `like_record` - ç‚¹èµè®°å½•è¡¨

**AI æ¨¡å—**
- `ai_conversation` - AI å¯¹è¯ä¼šè¯è¡¨
- `ai_message` - AI æ¶ˆæ¯è®°å½•è¡¨
- `knowledge_attraction` - æ™¯ç‚¹çŸ¥è¯†åº“ï¼ˆå¯é€‰ï¼‰
- `knowledge_food` - ç¾é£ŸçŸ¥è¯†åº“ï¼ˆå¯é€‰ï¼‰

**å…¶ä»–**
- `picture` - å›¾ç‰‡è¡¨
- `category` - åˆ†ç±»è¡¨

> æ‰€æœ‰è¡¨ç»“æ„å‡å·²åŒ…å«åœ¨ `travel.sql` æ–‡ä»¶ä¸­ï¼Œä¸€æ¬¡å¯¼å…¥å³å¯å®Œæˆæ•°æ®åº“åˆå§‹åŒ–ã€‚

## ğŸ› å¼€å‘è°ƒè¯•

**SQL æ—¥å¿—**
- MyBatis Plus æ”¯æŒ SQL æ—¥å¿—è¾“å‡º
- å¯æŸ¥çœ‹å®Œæ•´çš„ SQL è¯­å¥å’Œå‚æ•°
- ä¾¿äºè°ƒè¯•æ•°æ®åº“æŸ¥è¯¢é—®é¢˜

**AI è°ƒè¯•**
- æ”¯æŒ DEBUG çº§åˆ«æ—¥å¿—
- å¯æŸ¥çœ‹å®Œæ•´çš„ AI è¯·æ±‚å’Œå“åº”
- ç›‘æ§ Token ä½¿ç”¨é‡å’Œå“åº”æ—¶é—´

**æ—¥å¿—çº§åˆ«**
- å¼€å‘ç¯å¢ƒï¼šDEBUG
- ç”Ÿäº§ç¯å¢ƒï¼šINFO
- æ”¯æŒæŒ‰åŒ…é…ç½®ä¸åŒçº§åˆ«

> **é…ç½®æ–¹å¼**ï¼šåœ¨ `application.yml` ä¸­é…ç½® `logging.level` å’Œ `mybatis-plus.configuration.log-impl`

## ğŸ­ æ•°å­—äººæœåŠ¡éƒ¨ç½²

æœ¬é¡¹ç›®ä½¿ç”¨å¼€æºæ•°å­—äººé¡¹ç›® [DH_live](https://github.com/kleinlee/DH_live) æä¾›å®æ—¶æ•°å­—äººå¯¹è¯åŠŸèƒ½ã€‚

### ç‰¹ç‚¹

- **æœ€ä½ç®—åŠ›**ï¼šæ¨ç†ä¸€å¸§ä»…éœ€ 39 Mflops
- **æœ€å°å­˜å‚¨**ï¼šæ•´ä¸ªç½‘é¡µèµ„æºå¯å‹ç¼©åˆ° 3MB
- **æ— é¡»è®­ç»ƒ**ï¼šå¼€ç®±å³ç”¨
- **å¹³å°æ”¯æŒ**ï¼šWindowsã€Linuxã€macOSã€Webã€å°ç¨‹åº

### å¿«é€Ÿéƒ¨ç½²

1. **å…‹éš†æ•°å­—äººé¡¹ç›®**

```bash
git clone https://github.com/kleinlee/DH_live.git
cd DH_live
```

2. **å®‰è£…ä¾èµ–**

```bash
conda create -n dh_live python=3.11
conda activate dh_live
pip install torch --index-url https://download.pytorch.org/whl/cu124
pip install -r requirements.txt
```

3. **å‡†å¤‡è§†é¢‘æ•°æ®**

```bash
python data_preparation_mini.py video_data/000002/video.mp4 video_data/000002
python data_preparation_web.py video_data/000002
```

4. **å¯åŠ¨ Web æœåŠ¡**

```bash
python web_demo/server.py
```

è®¿é—®ï¼š`http://localhost:8888/static/MiniLive.html`

### é›†æˆè¯´æ˜

åç«¯é€šè¿‡æ•°å­—äººä¸“ç”¨æ¥å£æä¾›çº¯å‡€çš„å¯¹è¯æ–‡æœ¬ï¼Œå‰ç«¯é€šè¿‡ iframe åµŒå…¥æ•°å­—äººæœåŠ¡é¡µé¢å®ç°å®æ—¶äº¤äº’ã€‚

> **å‚è€ƒé“¾æ¥**ï¼š
> - [DH_live é¡¹ç›®åœ°å€](https://github.com/kleinlee/DH_live)
> - [åœ¨çº¿ä½“éªŒ](https://matesx.com)
> - [å•†ä¸šæˆæƒè¯´æ˜](https://www.matesx.com/authorized.html)

## ğŸ“¦ éƒ¨ç½²æŒ‡å—

### 1. æ‰“åŒ…

```bash
mvn clean package -DskipTests
```

### 2. Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

**æ³¨æ„**ï¼šDockerfile éœ€è¦ä½¿ç”¨ `openjdk:21-slim`ï¼ˆä¸æ˜¯ 17ï¼‰

```bash
# æ„å»ºé•œåƒ
docker build -t travel-backend .

# è¿è¡Œå®¹å™¨
docker run -d -p 8101:8101 --name travel-backend travel-backend
```

### 3. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

**ç¯å¢ƒå‡†å¤‡**
- JDK 21 è¿è¡Œç¯å¢ƒ
- MySQL 8.0+ æ•°æ®åº“
- Redis æœåŠ¡
- å……è¶³çš„å†…å­˜ï¼ˆå»ºè®® 2GB+ï¼‰

**éƒ¨ç½²æ­¥éª¤**
1. ä¸Šä¼  jar åŒ…åˆ°æœåŠ¡å™¨
2. é…ç½® `application-prod.yml`
3. å¯åŠ¨æœåŠ¡ï¼š`java -jar app.jar --spring.profiles.active=prod`
4. é…ç½®åå‘ä»£ç†ï¼ˆNginxï¼‰
5. é…ç½®å¼€æœºè‡ªå¯ï¼ˆsystemdï¼‰

**æ—¥å¿—ç®¡ç†**
- æ—¥å¿—çº§åˆ«ï¼šINFO
- æ—¥å¿—è·¯å¾„ï¼š`/var/log/travel-backend/`
- æ”¯æŒæŒ‰æ—¥æœŸæ»šåŠ¨

## ğŸ”— ç›¸å…³é¡¹ç›®

### å‰ç«¯é¡¹ç›®

**travel-ai-frontend** - åŸºäº Vue 3 + TypeScript çš„æ™ºèƒ½æ—…æ¸¸æ¨èå¹³å°å‰ç«¯

- é¡¹ç›®åœ°å€ï¼šhttps://github.com/Lq0412/travel-ai-frontend
- æŠ€æœ¯æ ˆï¼šVue 3 + TypeScript + Ant Design Vue + Vite

### æ•°å­—äººæœåŠ¡

**DH_live** - å¼€æºæ•°å­—äººé¡¹ç›®ï¼Œæä¾›ä½å»¶è¿Ÿã€é«˜è´¨é‡çš„å®æ—¶æ•°å­—äººå¯¹è¯ä½“éªŒ

- é¡¹ç›®åœ°å€ï¼šhttps://github.com/kleinlee/DH_live
- åœ¨çº¿ä½“éªŒï¼šhttps://matesx.com
- å°ç¨‹åºï¼šæœç´¢"MatesXæ•°å­—ç”Ÿå‘½"

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ travel-ai-backend/     # åç«¯é¡¹ç›®ï¼ˆæœ¬ä»“åº“ï¼‰
â”œâ”€â”€ travel-ai-frontend/    # å‰ç«¯é¡¹ç›®
â””â”€â”€ DH_live/              # æ•°å­—äººæœåŠ¡ï¼ˆç¬¬ä¸‰æ–¹ï¼‰
```

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) åè®®å¼€æºã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

**Lq0412**

- GitHub: [@Lq0412](https://github.com/Lq0412)
- Email: 15919508513@163.com

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæœåŠ¡å•†ï¼Œä¸ºæœ¬é¡¹ç›®æä¾›äº†å¼ºå¤§çš„æŠ€æœ¯æ”¯æŒï¼š

### åç«¯æ¡†æ¶ä¸å·¥å…·

- [Spring Boot](https://spring.io/projects/spring-boot) - å¼ºå¤§çš„ Java åº”ç”¨æ¡†æ¶
- [Spring AI](https://spring.io/projects/spring-ai) - AI åº”ç”¨å¼€å‘æ¡†æ¶
- [MyBatis Plus](https://baomidou.com/) - ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶
- [Knife4j](https://doc.xiaominfo.com/) - API æ–‡æ¡£ç”Ÿæˆå·¥å…·
- [Resilience4j](https://resilience4j.readme.io/) - å¼¹æ€§åŒ–ä¸å®¹é”™åº“
- [Hutool](https://hutool.cn/) - Java å·¥å…·ç±»åº“
- [Lombok](https://projectlombok.org/) - ç®€åŒ– Java ä»£ç 
- [OkHttp](https://square.github.io/okhttp/) - é«˜æ•ˆçš„ HTTP å®¢æˆ·ç«¯

### æ•°æ®åº“ä¸ç¼“å­˜

- [MySQL](https://www.mysql.com/) - å…³ç³»å‹æ•°æ®åº“
- [Redis](https://redis.io/) - é«˜æ€§èƒ½ç¼“å­˜æ•°æ®åº“
- [Caffeine](https://github.com/ben-manes/caffeine) - é«˜æ€§èƒ½æœ¬åœ°ç¼“å­˜

### AI ä¸æœåŠ¡

- [é€šä¹‰åƒé—® (DashScope)](https://help.aliyun.com/zh/dashscope/) - é˜¿é‡Œäº‘å¤§è¯­è¨€æ¨¡å‹
- [DH_live](https://github.com/kleinlee/DH_live) - å¼€æºæ•°å­—äººé¡¹ç›®
- [è…¾è®¯äº‘ COS](https://cloud.tencent.com/product/cos) - å¯¹è±¡å­˜å‚¨æœåŠ¡

### å‰ç«¯æŠ€æœ¯

- [Vue 3](https://vuejs.org/) - æ¸è¿›å¼ JavaScript æ¡†æ¶
- [TypeScript](https://www.typescriptlang.org/) - JavaScript çš„è¶…é›†
- [Ant Design Vue](https://antdv.com/) - ä¼ä¸šçº§ UI ç»„ä»¶åº“
- [Vite](https://vitejs.dev/) - ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·

### ç‰¹åˆ«é¸£è°¢

æ„Ÿè°¢ [@kleinlee](https://github.com/kleinlee) å¼€æºçš„ [DH_live](https://github.com/kleinlee/DH_live) é¡¹ç›®ï¼Œä¸ºæœ¬é¡¹ç›®æä¾›äº†ä¼˜ç§€çš„æ•°å­—äººè§£å†³æ–¹æ¡ˆã€‚

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- **Email**: 15919508513@163.com
- **GitHub Issues**: [æäº¤ Issue](https://github.com/Lq0412/travel-ai-backend/issues)
- **å‰ç«¯é¡¹ç›®**: [travel-ai-frontend](https://github.com/Lq0412/travel-ai-frontend)

## ğŸ“Š é¡¹ç›®çŠ¶æ€

- âœ… åç«¯æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆ
- âœ… AI å¯¹è¯ç³»ç»Ÿå·²é›†æˆ
- âœ… æ•°å­—äººæœåŠ¡å·²é›†æˆ
- âœ… å‰åç«¯å·²å®Œå…¨åˆ†ç¦»
- ğŸš§ æŒç»­ä¼˜åŒ–å’ŒåŠŸèƒ½æ‰©å±•ä¸­

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ Starï¼

**å®Œæ•´é¡¹ç›®æ¶æ„ï¼š**
- åç«¯ä»“åº“ï¼šhttps://github.com/Lq0412/travel-ai-backend
- å‰ç«¯ä»“åº“ï¼šhttps://github.com/Lq0412/travel-ai-frontend
- æ•°å­—äººæœåŠ¡ï¼šhttps://github.com/kleinlee/DH_live

